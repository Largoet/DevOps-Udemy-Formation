# ğŸ“˜ Logbook Linux â€” Guide unifiÃ© CentOS/RHEL & Ubuntu/Debian

## ğŸ§  Introduction

Ce logbook regroupe les commandes Linux essentielles rencontrÃ©es lors des exercices (fichiers 1 â†’ 13). Il couvre Ã  la fois **CentOS/RHEL** et **Ubuntu/Debian**, avec les diffÃ©rences importantes. Il est structurÃ© par thÃ©matique pour servir de rÃ©fÃ©rence rapide.

---

## ğŸ”¹ Navigation & gestion des fichiers

* `pwd` â†’ afficher le chemin courant.
* `ls` â†’ lister les fichiers.
* `ls -l` â†’ affichage dÃ©taillÃ©.
* `ls -a` â†’ inclut les fichiers cachÃ©s.
* `cd <rÃ©pertoire>` â†’ changer de dossier.
* `touch fichier.txt` â†’ crÃ©er un fichier vide.
* `mkdir dossier` â†’ crÃ©er un rÃ©pertoire.
* `mkdir -p chemin/vers/dossier` â†’ crÃ©er un arbre complet.
* `rm fichier` / `rm -r dossier` â†’ supprimer.
* `cp source destination` â†’ copier.
* `cp -r dossier1 dossier2` â†’ copie rÃ©cursive.
* `mv source destination` â†’ dÃ©placer/renommer.
* `cat fichier` â†’ afficher le contenu.
* `head -n 10 fichier` / `tail -n 10 fichier` â†’ dÃ©but/fin dâ€™un fichier.
* `tail -f fichier` â†’ suivre un fichier en temps rÃ©el (ex: logs).
* `wc -l fichier` â†’ compter lignes.
* `find /etc -name host*` â†’ recherche de fichiers.
* `locate motclef` (nÃ©cessite `mlocate` + `updatedb`).

---

## ğŸ”¹ Informations systÃ¨me

* `whoami` â†’ utilisateur courant.
* `id user` â†’ infos UID, GID, groupes.
* `uptime` â†’ durÃ©e depuis le dernier boot.
* `free -m` â†’ mÃ©moire disponible.
* `df -h` â†’ espace disque.
* `uname -a` / `cat /etc/os-release` â†’ infos OS.
* `ps aux` / `ps -ef` â†’ processus en cours.
* `top` / `htop` â†’ suivi dynamique des processus.

---

## ğŸ”¹ Utilisateurs & groupes

### CentOS/RHEL

* `useradd nom` â†’ crÃ©er un utilisateur.
* `passwd nom` â†’ dÃ©finir mot de passe.
* `usermod -aG groupe user` â†’ ajouter au groupe.
* `groupadd groupe` / `groupdel groupe` â†’ gestion des groupes.
* `userdel user` / `userdel -r user` â†’ supprimer un utilisateur (+ home).

### Ubuntu/Debian

* `adduser nom` â†’ recommandÃ© (crÃ©e home + shell + mot de passe).
* `deluser nom` / `deluser --remove-home nom` â†’ suppression.
* Sinon `useradd -m -s /bin/bash nom` fonctionne mais plus bas niveau.

---

## ğŸ”¹ Permissions & droits

* `ls -ld fichier` â†’ voir les droits.
* `chmod 754 fichier` â†’ changer droits numÃ©riques.
* `chmod +x script.sh` â†’ ajouter exÃ©cution.
* `chown user:group fichier` â†’ changer propriÃ©taire.
* Exemple :

  * `chmod g+w /opt/devopsdir` â†’ ajouter Ã©criture au groupe.
  * `chmod o-r dossier` â†’ retirer lecture aux autres.

---

## ğŸ”¹ Super utilisateur (sudo)

* `sudo commande` â†’ exÃ©cuter en admin.
* `visudo` â†’ Ã©diter sudoers.
* Alternative : crÃ©er un fichier dans `/etc/sudoers.d/`.
* Variables utiles :

  ```bash
  export EDITOR=vim
  export VISUAL=vim
  ```

  (Ã  mettre dans `~/.bashrc` pour Ãªtre permanent).

---

## ğŸ”¹ Gestion des paquets

### CentOS/RHEL

* `dnf install paquet` / `yum install paquet`
* `dnf remove paquet` / `yum remove paquet`
* `dnf update -y` â†’ mise Ã  jour paquets installÃ©s.
* `dnf upgrade` â†’ maj plus complÃ¨te.
* `dnf search motclef`
* `dnf list installed`
* `dnf history` / `dnf history undo <id>` / `redo <id>`
* RPM :

  * `rpm -ivh paquet.rpm` â†’ installer.
  * `rpm -qa` â†’ lister.
  * `rpm -e paquet` â†’ supprimer.

### Ubuntu/Debian

* `apt update` â†’ met Ã  jour lâ€™index.
* `apt upgrade` â†’ installe nouvelles versions.
* `apt install paquet`
* `apt remove paquet` â†’ supprime mais garde la conf.
* `apt purge paquet` â†’ supprime tout (binaire + conf).
* `apt autoremove` â†’ nettoie dÃ©pendances inutiles.
* `apt search motclef`
* `dpkg -i paquet.deb` â†’ installer.
* `dpkg -l` â†’ liste des paquets.
* `dpkg -r paquet` â†’ supprimer.

---

## ğŸ”¹ Services (systemd)

* `systemctl start service` / `systemctl stop service`
* `systemctl restart service` / `systemctl reload service`
* `systemctl status service`
* `systemctl enable service` / `disable`
* `systemctl is-active service`
* `systemctl is-enabled service`
* `journalctl -u service [-f]`

**DiffÃ©rences de noms :**

* Apache : `httpd` (CentOS) vs `apache2` (Ubuntu).
* SSH : `sshd` (CentOS) vs `ssh` (Ubuntu).

---

## ğŸ”¹ Processus

* `ps aux | grep nom`
* `kill <PID>` â†’ TERM (propre).
* `kill -9 <PID>` â†’ KILL (forcÃ©).
* `pkill nom` â†’ par nom.
* `ps -ef | grep httpd | awk '{print $2}' | xargs kill -9` â†’ tuer tous les httpd.

---

## ğŸ”¹ Archivage & compression

### tar

* `tar -cvf archive.tar fichiers/`
* `tar -xvf archive.tar`
* `tar -tzvf archive.tar.gz` â†’ lister contenu gzip.
* `tar -czvf archive.tar.gz dossier/` â†’ crÃ©er compressÃ©e gzip.
* `tar -xjvf archive.tar.bz2` â†’ bzip2.
* `tar -xJvf archive.tar.xz` â†’ xz.

### zip/unzip

* `zip archive.zip fichier1 fichier2`
* `zip -r archive.zip dossier/`
* `unzip archive.zip`
* `unzip -l archive.zip` â†’ lister contenu.

---

## ğŸ”¹ RÃ©seau

* `ip addr show` â†’ interfaces.
* `ping adresse`
* `traceroute adresse`
* `ssh user@ip`
* `curl URL` / `wget URL`

---

## ğŸ”¹ Logs & monitoring

* CentOS : `/var/log/messages`, `/var/log/secure`.
* Ubuntu : `/var/log/syslog`, `/var/log/auth.log`.
* `tail -f /var/log/messages | grep vagrant`
* `last` â†’ connexions rÃ©centes.
* `who` â†’ utilisateurs connectÃ©s.
* `lsof -u user` â†’ fichiers ouverts par un user.

---

## ğŸ”¹ DiffÃ©rences clÃ©s CentOS vs Ubuntu

* **Famille** : Red Hat (CentOS/RHEL) vs Debian (Ubuntu).
* **Gestion paquets** : `dnf/yum` vs `apt/dpkg`.
* **Apache** : `httpd` vs `apache2`.
* **SSH** : `sshd` vs `ssh`.
* **Logs systÃ¨me** : `/var/log/messages` vs `/var/log/syslog`.
* **Users** : `useradd` vs `adduser`.
* **Ã‰diteur par dÃ©faut** : souvent `vim` (CentOS) vs `nano` (Ubuntu).

---

ğŸ‘‰ Ce document est une base consolidÃ©e couvrant les exercices (1 Ã  13) et les deux familles de distributions. Il peut Ãªtre enrichi avec dâ€™autres thÃ¨mes (rÃ©seau avancÃ©, sÃ©curitÃ©, automatisation).
